from google.colab import drive
drive.mount('/content/drive')
%cd /content/drive/MyDrive

---------------------------------------------

%tensorflow_version 2.x

---------------------------------------------
#Download and Install Tensorflow 2 Object Detection API

%cd /content/drive/MyDrive
!git clone https://github.com/tensorflow/models.git

%cd /content/drive/MyDrive/models/research
!protoc object_detection/protos/*.proto --python_out=.

!cp object_detection/packages/tf2/setup.py . 
!python -m pip install .

!python setup.py build
!python setup.py install


#TEST
!python object_detection/builders/model_builder_tf2_test.py

---------------------------------------------
---------------------------------------------

#create label_map.pbtxt (save in od/training)

---------------------------------------------
#Generate tf_records

%cd /content/drive/MyDrive/od

# create train record
python create_tf_record.py -x ./images/train/ -l ./training/label_map.pbtxt -o ./training/train.record

# create test record
python create_tf_record.py -x ./images/test/ -l ./training/label_map.pbtxt -o ./training/test.record

---------------------------------------------
# download pre-trained model
# ssd_mobilenet_v2_fpn_320x320
# edit pipeline.config
---------------------------------------------
#start training

%cd /content/drive/MyDrive/models/research/object_detection/
#train 
!python model_main_tf2.py \
--pipeline_config_path=/content/drive/MyDrive/od/ssd_mobilenet_v2_fpnlite_320x320_coco17_tpu-8/pipeline.config \
--model_dir=/content/drive/MyDrive/output_training --alsologtostderr

---> đến đây thì lỗi 
" Input size should match (header_size + row_size * abs_height) but they differ by 20
[[{{nodecase/cond/else/_10/case/cond/cond_jpeg/else/_105/case/cond/cond_jpeg/decode_image/DecodeImage}}]]
[[MultiDeviceIteratorGetNextFromShard]]
[[RemoteCall]] "